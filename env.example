# AutoClip 环境变量配置文件
# 复制此文件为 .env 并填入实际值

# ==================== AI 服务配置 ====================
# DashScope API 密钥（阿里云通义千问）
DASHSCOPE_API_KEY=your_dashscope_api_key_here

# SiliconFlow API 密钥
SILICONFLOW_API_KEY=your_siliconflow_api_key_here

# AI 服务提供商选择: dashscope 或 siliconflow
API_PROVIDER=siliconflow

# DashScope 模型名称
MODEL_NAME=qwen-plus

# SiliconFlow 模型名称
SILICONFLOW_MODEL=Qwen/Qwen2.5-72B-Instruct

# ==================== 应用服务配置 ====================
# 应用名称
APP_NAME=autoclip

# 服务器主机地址
HOST=0.0.0.0

# 服务器端口
PORT=8000

# 调试模式
DEBUG=false

# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ==================== 处理参数配置 ====================
# 文本分块大小
CHUNK_SIZE=5000

# 最小评分阈值
MIN_SCORE_THRESHOLD=0.7

# 每个合集最大切片数量
MAX_CLIPS_PER_COLLECTION=5

# 最大并发处理数
MAX_CONCURRENT_TASKS=3

# 视频处理超时时间（秒）
VIDEO_PROCESSING_TIMEOUT=3600

# ==================== 文件系统配置 ====================
# 上传文件最大大小（MB）
MAX_UPLOAD_SIZE=2048

# 临时文件清理时间（小时）
TEMP_FILE_CLEANUP_HOURS=24

# 数据目录路径
DATA_DIR=./data

# 上传目录路径
UPLOADS_DIR=./uploads

# 输出目录路径
OUTPUT_DIR=./output

# 输入目录路径
INPUT_DIR=./input

# ==================== Docker 配置 ====================
# 容器名称前缀
CONTAINER_PREFIX=autoclip

# Docker 网络名称
DOCKER_NETWORK=autoclip-network

# Docker 镜像标签
DOCKER_IMAGE_TAG=latest

# ==================== 资源限制配置 ====================
# 内存限制（开发环境）
MEMORY_LIMIT_DEV=2G

# CPU 限制（开发环境）
CPU_LIMIT_DEV=1.0

# 内存预留（开发环境）
MEMORY_RESERVATION_DEV=512M

# CPU 预留（开发环境）
CPU_RESERVATION_DEV=0.5

# 内存限制（生产环境）
MEMORY_LIMIT_PROD=4G

# CPU 限制（生产环境）
CPU_LIMIT_PROD=2.0

# 内存预留（生产环境）
MEMORY_RESERVATION_PROD=1G

# CPU 预留（生产环境）
CPU_RESERVATION_PROD=0.5

# ==================== 端口配置 ====================
# 开发环境对外端口
DEV_PORT=8063

# 生产环境对外端口
PROD_PORT=8063

# ==================== 健康检查配置 ====================
# 健康检查间隔（秒）
HEALTH_CHECK_INTERVAL=30s

# 健康检查超时时间（秒）
HEALTH_CHECK_TIMEOUT=10s

# 健康检查重试次数
HEALTH_CHECK_RETRIES=3

# 健康检查启动等待时间（秒）
HEALTH_CHECK_START_PERIOD=40s

# ==================== 日志配置 ====================
# 日志驱动
LOG_DRIVER=json-file

# 单个日志文件最大大小
LOG_MAX_SIZE=10m

# 保留的日志文件数量
LOG_MAX_FILE=3

# ==================== B站下载配置 ====================
# 默认浏览器
DEFAULT_BROWSER=chrome

# 浏览器用户数据目录
BROWSER_USER_DATA_DIR=

# 下载超时时间（秒）
DOWNLOAD_TIMEOUT=1800

# ==================== FFmpeg 配置 ====================
# FFmpeg 路径（容器内通常不需要修改）
FFMPEG_PATH=ffmpeg

# 视频编码器
VIDEO_CODEC=libx264

# 音频编码器
AUDIO_CODEC=aac

# 视频质量
VIDEO_QUALITY=23

# ==================== 安全配置 ====================
# 允许的视频格式
ALLOWED_VIDEO_FORMATS=mp4,avi,mov,mkv,flv,wmv

# 允许的音频格式
ALLOWED_AUDIO_FORMATS=mp3,wav,flac,aac,ogg

# CORS 允许的源
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:3000,http://127.0.0.1:8000

# ==================== 开发配置 ====================
# 开发模式热重载
DEV_RELOAD=true

# 前端开发服务器端口
FRONTEND_DEV_PORT=3000

# API 基础路径
API_BASE_PATH=/api/v1

# ==================== 监控配置 ====================
# 启用性能监控
ENABLE_MONITORING=false

# 监控数据收集间隔（秒）
MONITORING_INTERVAL=60

# ==================== 缓存配置 ====================
# 启用缓存
ENABLE_CACHE=true

# 缓存过期时间（秒）
CACHE_EXPIRE_TIME=3600

# ==================== 并发配置 ====================
# Worker 进程数量
WORKER_PROCESSES=1

# 每个 Worker 的线程数
WORKER_THREADS=4

# 请求队列大小
REQUEST_QUEUE_SIZE=100