# AutoClip - æ™ºèƒ½è§†é¢‘åˆ‡ç‰‡å·¥å…·

ğŸ¬ åŸºäºAIçš„æ™ºèƒ½è§†é¢‘åˆ‡ç‰‡å’Œåˆé›†æ¨èç³»ç»Ÿï¼Œæ”¯æŒä»Bç«™è§†é¢‘è‡ªåŠ¨ä¸‹è½½ã€å­—å¹•æå–ã€æ™ºèƒ½åˆ‡ç‰‡å’Œåˆé›†ç”Ÿæˆã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ”¥ **æ™ºèƒ½è§†é¢‘åˆ‡ç‰‡**ï¼šåŸºäºAIåˆ†æè§†é¢‘å†…å®¹ï¼Œè‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡åˆ‡ç‰‡
- ğŸ“º **Bç«™è§†é¢‘ä¸‹è½½**ï¼šæ”¯æŒBç«™è§†é¢‘è‡ªåŠ¨ä¸‹è½½å’Œå­—å¹•æå–
- ğŸ¯ **æ™ºèƒ½åˆé›†æ¨è**ï¼šAIè‡ªåŠ¨åˆ†æåˆ‡ç‰‡å†…å®¹ï¼Œæ¨èç›¸å…³åˆé›†
- ğŸ¨ **æ‰‹åŠ¨åˆé›†ç¼–è¾‘**ï¼šæ”¯æŒæ‹–æ‹½æ’åºã€æ·»åŠ /åˆ é™¤åˆ‡ç‰‡
- ğŸ“¦ **ä¸€é”®æ‰“åŒ…ä¸‹è½½**ï¼šæ”¯æŒæ‰€æœ‰åˆ‡ç‰‡å’Œåˆé›†çš„ä¸€é”®æ‰“åŒ…ä¸‹è½½
- ğŸŒ **ç°ä»£åŒ–Webç•Œé¢**ï¼šReact + TypeScript + Ant Design
- âš¡ **å®æ—¶å¤„ç†çŠ¶æ€**ï¼šå®æ—¶æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œæ—¥å¿—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.8+
- Node.js 16+
- é€šä¹‰åƒé—®APIå¯†é’¥ï¼ˆç”¨äºAIåˆ†æï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone git@github.com:zhouxiaoka/autoclip_mvp.git
cd autoclip_mvp
```

2. **å®‰è£…åç«¯ä¾èµ–**
```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

3. **å®‰è£…å‰ç«¯ä¾èµ–**
```bash
cd frontend
npm install
cd ..
```

4. **é…ç½®APIå¯†é’¥**
```bash
# å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶
cp data/settings.example.json data/settings.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥
{
  "dashscope_api_key": "ä½ çš„é€šä¹‰åƒé—®APIå¯†é’¥",
  "model_name": "qwen-plus",
  "chunk_size": 5000,
  "min_score_threshold": 0.7,
  "max_clips_per_collection": 5,
  "default_browser": "chrome"
}
```

### å¯åŠ¨æœåŠ¡

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
chmod +x start_dev.sh
./start_dev.sh
```

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¯åŠ¨
```bash
# å¯åŠ¨åç«¯æœåŠ¡
source venv/bin/activate
python backend_server.py

# æ–°å¼€ç»ˆç«¯ï¼Œå¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend
npm run dev
```

#### æ–¹å¼ä¸‰ï¼šå‘½ä»¤è¡Œå·¥å…·
```bash
# å¤„ç†æœ¬åœ°è§†é¢‘æ–‡ä»¶
python main.py --video input.mp4 --srt input.srt --project-name "æˆ‘çš„é¡¹ç›®"

# å¤„ç†ç°æœ‰é¡¹ç›®
python main.py --project-id <project_id>

# åˆ—å‡ºæ‰€æœ‰é¡¹ç›®
python main.py --list-projects
```

### è®¿é—®åœ°å€

- ğŸŒ **å‰ç«¯ç•Œé¢**: http://localhost:3000
- ğŸ”Œ **åç«¯API**: http://localhost:8000
- ğŸ“š **APIæ–‡æ¡£**: http://localhost:8000/docs

## ğŸ“ é¡¹ç›®ç»“æ„

```
autoclip_mvp/
â”œâ”€â”€ backend_server.py          # FastAPIåç«¯æœåŠ¡
â”œâ”€â”€ main.py                   # å‘½ä»¤è¡Œå…¥å£
â”œâ”€â”€ start_dev.sh              # å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬
â”œâ”€â”€ requirements.txt           # Pythonä¾èµ–
â”œâ”€â”€ .gitignore               # Gitå¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ README.md                # é¡¹ç›®æ–‡æ¡£
â”‚
â”œâ”€â”€ frontend/                # Reactå‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/      # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/       # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/          # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ hooks/          # è‡ªå®šä¹‰Hooks
â”‚   â”œâ”€â”€ package.json        # å‰ç«¯ä¾èµ–
â”‚   â””â”€â”€ vite.config.ts      # Viteé…ç½®
â”‚
â”œâ”€â”€ src/                    # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ main.py            # ä¸»å¤„ç†é€»è¾‘
â”‚   â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ api.py             # APIæ¥å£
â”‚   â”œâ”€â”€ pipeline/          # å¤„ç†æµæ°´çº¿
â”‚   â”‚   â”œâ”€â”€ step1_outline.py    # å¤§çº²æå–
â”‚   â”‚   â”œâ”€â”€ step2_timeline.py   # æ—¶é—´è½´ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ step3_scoring.py    # è¯„åˆ†è®¡ç®—
â”‚   â”‚   â”œâ”€â”€ step4_title.py      # æ ‡é¢˜ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ step5_clustering.py # èšç±»åˆ†æ
â”‚   â”‚   â””â”€â”€ step6_video.py      # è§†é¢‘ç”Ÿæˆ
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ llm_client.py      # AIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ video_processor.py # è§†é¢‘å¤„ç†
â”‚   â”‚   â”œâ”€â”€ text_processor.py  # æ–‡æœ¬å¤„ç†
â”‚   â”‚   â”œâ”€â”€ project_manager.py # é¡¹ç›®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ error_handler.py   # é”™è¯¯å¤„ç†
â”‚   â”‚   â””â”€â”€ bilibili_downloader.py # Bç«™ä¸‹è½½
â”‚   â””â”€â”€ upload/            # æ–‡ä»¶ä¸Šä¼ 
â”‚       â””â”€â”€ upload_manager.py
â”‚
â”œâ”€â”€ data/                  # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ projects.json     # é¡¹ç›®æ•°æ®
â”‚   â””â”€â”€ settings.json     # é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ uploads/              # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â”œâ”€â”€ tmp/             # ä¸´æ—¶ä¸‹è½½æ–‡ä»¶
â”‚   â””â”€â”€ {project_id}/    # é¡¹ç›®æ–‡ä»¶
â”‚       â”œâ”€â”€ input/       # åŸå§‹æ–‡ä»¶
â”‚       â””â”€â”€ output/      # å¤„ç†ç»“æœ
â”‚           â”œâ”€â”€ clips/   # åˆ‡ç‰‡è§†é¢‘
â”‚           â””â”€â”€ collections/ # åˆé›†è§†é¢‘
â”‚
â”œâ”€â”€ prompt/               # AIæç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ business/        # å•†ä¸šè´¢ç»
â”‚   â”œâ”€â”€ knowledge/       # çŸ¥è¯†ç§‘æ™®
â”‚   â”œâ”€â”€ entertainment/   # å¨±ä¹å†…å®¹
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ tests/               # æµ‹è¯•æ–‡ä»¶
    â”œâ”€â”€ test_config.py
    â””â”€â”€ test_error_handler.py
```

## ğŸ”§ é…ç½®è¯´æ˜

### APIå¯†é’¥é…ç½®
åœ¨ `data/settings.json` ä¸­é…ç½®ä½ çš„é€šä¹‰åƒé—®APIå¯†é’¥ï¼š
```json
{
  "dashscope_api_key": "your-api-key-here",
  "model_name": "qwen-plus",
  "chunk_size": 5000,
  "min_score_threshold": 0.7,
  "max_clips_per_collection": 5,
  "default_browser": "chrome"
}
```

### æµè§ˆå™¨é…ç½®
æ”¯æŒChromeã€Firefoxã€Safariç­‰æµè§ˆå™¨ç”¨äºBç«™è§†é¢‘ä¸‹è½½ï¼š
```json
{
  "default_browser": "chrome"
}
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. ä¸Šä¼ æœ¬åœ°è§†é¢‘
1. è®¿é—® http://localhost:3000
2. ç‚¹å‡»"ä¸Šä¼ è§†é¢‘"æŒ‰é’®
3. é€‰æ‹©è§†é¢‘æ–‡ä»¶å’Œå­—å¹•æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
4. å¡«å†™é¡¹ç›®åç§°å’Œåˆ†ç±»
5. ç‚¹å‡»"å¼€å§‹å¤„ç†"

### 2. ä¸‹è½½Bç«™è§†é¢‘
1. åœ¨é¦–é¡µç‚¹å‡»"Bç«™è§†é¢‘ä¸‹è½½"
2. è¾“å…¥Bç«™è§†é¢‘é“¾æ¥
3. é€‰æ‹©æµè§ˆå™¨ï¼ˆç”¨äºè·å–ç™»å½•çŠ¶æ€ï¼‰
4. ç‚¹å‡»"å¼€å§‹ä¸‹è½½"

### 3. ç¼–è¾‘åˆé›†
1. è¿›å…¥é¡¹ç›®è¯¦æƒ…é¡µé¢
2. ç‚¹å‡»åˆé›†å¡ç‰‡è¿›å…¥ç¼–è¾‘æ¨¡å¼
3. æ‹–æ‹½åˆ‡ç‰‡è°ƒæ•´é¡ºåº
4. æ·»åŠ æˆ–åˆ é™¤åˆ‡ç‰‡
5. ä¿å­˜æ›´æ”¹

### 4. ä¸‹è½½é¡¹ç›®
1. åœ¨é¡¹ç›®å¡ç‰‡ä¸Šç‚¹å‡»ä¸‹è½½æŒ‰é’®
2. è‡ªåŠ¨æ‰“åŒ…æ‰€æœ‰åˆ‡ç‰‡å’Œåˆé›†
3. ä¸‹è½½å®Œæ•´çš„zipæ–‡ä»¶

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### åç«¯å¼€å‘
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
python backend_server.py

# è¿è¡Œæµ‹è¯•
pytest tests/
```

### å‰ç«¯å¼€å‘
```bash
cd frontend
npm run dev    # å¼€å‘æ¨¡å¼
npm run build  # ç”Ÿäº§æ„å»º
npm run lint   # ä»£ç æ£€æŸ¥
```

### æ·»åŠ æ–°çš„è§†é¢‘åˆ†ç±»
1. åœ¨ `prompt/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„åˆ†ç±»æ–‡ä»¶å¤¹
2. æ·»åŠ å¯¹åº”çš„æç¤ºè¯æ¨¡æ¿æ–‡ä»¶
3. åœ¨å‰ç«¯ `src/services/api.ts` ä¸­æ·»åŠ åˆ†ç±»é€‰é¡¹

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸‹è½½Bç«™è§†é¢‘å¤±è´¥ï¼Ÿ
A: ç¡®ä¿å·²ç™»å½•Bç«™è´¦å·ï¼Œå¹¶é€‰æ‹©æ­£ç¡®çš„æµè§ˆå™¨ã€‚å»ºè®®ä½¿ç”¨Chromeæµè§ˆå™¨ã€‚

### Q: AIåˆ†æé€Ÿåº¦æ…¢ï¼Ÿ
A: å¯ä»¥è°ƒæ•´ `chunk_size` å‚æ•°ï¼Œè¾ƒå°çš„å€¼ä¼šæé«˜é€Ÿåº¦ä½†å¯èƒ½å½±å“è´¨é‡ã€‚

### Q: åˆ‡ç‰‡è´¨é‡ä¸é«˜ï¼Ÿ
A: è°ƒæ•´ `min_score_threshold` å‚æ•°ï¼Œè¾ƒé«˜çš„å€¼ä¼šæé«˜åˆ‡ç‰‡è´¨é‡ä½†å‡å°‘æ•°é‡ã€‚

### Q: åˆé›†æ•°é‡å¤ªå°‘ï¼Ÿ
A: è°ƒæ•´ `max_clips_per_collection` å‚æ•°ï¼Œå¢åŠ æ¯ä¸ªåˆé›†çš„æœ€å¤§åˆ‡ç‰‡æ•°é‡ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

### ğŸ’¬ QQäº¤æµç¾¤
> è¯·æ‰«æä¸‹æ–¹äºŒç»´ç åŠ å…¥QQäº¤æµç¾¤
> 
> ![QQç¾¤äºŒç»´ç ](./assets/qq_qr.jpg)

### ğŸ“± é£ä¹¦äº¤æµç¾¤  
> è¯·æ‰«æä¸‹æ–¹äºŒç»´ç åŠ å…¥é£ä¹¦äº¤æµç¾¤
> 
> ![é£ä¹¦ç¾¤äºŒç»´ç ](./assets/feishu_qr.jpg)

### ğŸ“§ å…¶ä»–è”ç³»æ–¹å¼
- æäº¤ [GitHub Issue](https://github.com/zhouxiaoka/autoclip_mvp/issues)
- å‘é€é‚®ä»¶è‡³ï¼šyour-email@example.com
- åŠ å…¥ä¸Šè¿°QQæˆ–é£ä¹¦äº¤æµç¾¤

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) äº†è§£è¯¦æƒ…ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼